<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jumping on Planets</title>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="icon" type="image/png" href="images/fav.png">
    <style>
        body {
            display: flex;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #000000;
            align-items: center;
            font-family: sans-serif;
            background-image: url('images/earth.gif');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
        }
        .container {
            text-align: center;
            background: transparent;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .dock-outer {
            margin: 0 0.5rem;
            display: flex;
            max-width: 100%;
            align-items: center;
        }

        .dock-panel {
            position: absolute;
            bottom: 0.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: flex-end;
            width: fit-content;
            gap: 1rem;
            border-radius: 1rem;
            background-color: #060010;
            border: 1px solid #222;
            padding: 0 0.5rem 0.5rem;
        }

        .dock-item {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background-color: #060010;
            border: 1px solid #222;
            box-shadow:
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06);
            cursor: pointer;
            outline: none;
            padding: 0.5rem;
            transition: transform 0.15s ease, background-color 0.15s ease;
        }

        .dock-item:hover {
            transform: scale(1.2) translateY(-6px);
            background-color: #1a0030;
        }

        .dock-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dock-label {
            position: absolute;
            top: -1.8rem;
            left: 50%;
            width: fit-content;
            white-space: pre;
            border-radius: 0.375rem;
            border: 1px solid #222;
            background-color: #060010;
            padding: 0.125rem 0.5rem;
            font-size: 0.75rem;
            color: #fff;
            transform: translateX(-50%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.15s ease;
        }

        .dock-item:hover .dock-label {
            opacity: 1;
        }

        .astronaut-animation{
            width: 200px;
            height: 200px;
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%) scale(1, 1);
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-image: url(images/stand.png);
            transition: transform 0.05s ease-out;
        }
        @keyframes jump-cycle {
            0% { background-image: url('images/stand.png'); }
            25% { background-image: url('images/prepare.png'); }
            50% { background-image: url('images/up.png'); }
            75% { background-image: url('images/down.png'); }
            100% { background-image: url('images/stand.png'); }
        }

        @keyframes prepare-shiver {
            0% { transform: translateX(-50%) scale(1.0, 0.99); }
            25% { transform: translateX(-50%) scale(1.01, 1.0); }
            50% { transform: translateX(-50%) scale(1.0, 1.01); }
            75% { transform: translateX(-50%) scale(0.99, 1.0); }
            100% { transform: translateX(-50%) scale(1.0, 1.0); }
        }

        .shivering {
            animation: prepare-shiver 0.15s infinite;
        }

        .dock-icon img {
            width: 40px;
            height: 40px;
            object-fit: contain;
            pointer-events: none;
        }

        .dock-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        h2 {
            font-size: 60px; 
            
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            margin: 0;
            
            color: #000;
            text-shadow: 
                -2px -2px 0 #fff,  
                2px -2px 0 #fff,
                -2px  2px 0 #fff,
                2px  2px 0 #fff;
            
            z-index: 100;
            white-space: nowrap;
        }

        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(6, 0, 16, 0.8);
            border: 1px solid #222;
            border-radius: 10px;
            color: white;
            font-family: sans-serif;
            z-index: 100;
            min-width: 250px;
        }

        .info-item {
            margin-bottom: 5px;
            font-size: 14px;
        }

        .label{
            color: #aaa;
            margin-right: 5px;
        }

        #gravity-value, #max-height {
            font-weight: bold;
            color: #00ffcc;
        }

        .active-planet {
            color: #00ffcc;
            font-weight: bold;
        }

        #gravity-list li {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>Jumping on Planets</h2>
        <div class="info-panel">
            <div class="height-display" style="padding: 10px;">
                Jumping height: <span id="max-height-m">0.00</span> m
            </div>
            <hr style="border: 0; border-top: 1px solid #444; margin: 0;">
            <div style="padding: 10px;">
                <span style="color: #aaa; font-size: 14px;">Gravity:</span> 
                <span id="current-gravity-val" style="color: #00ffcc; font-weight: bold; font-size: 14px;">9.81</span> 
                <span style="color: #aaa; font-size: 14px;"> m/sÂ²</span>
            </div>
        </div>
        <div class="astronaut-animation"></div>
    <div class="dock-outer" id="planet-dock">
        <div class="dock-panel">
            <div class="dock-item" onmousedown="changePlanet('Mercury'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/mercury.png" alt="Mercury"> 
                </div>
                <div class="dock-label">Mercury</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Venus'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/venus.png" alt="Venus"> 
                </div>
                <div class="dock-label">Venus</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Earth'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/earth.png" alt="Earth"> 
                </div>
                <div class="dock-label">Earth</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Moon'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/moon.png" alt="Moon"> 
                </div>
                <div class="dock-label">Moon</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Jupiter'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/jupiter.png" alt="Jupiter"> 
                </div>
                <div class="dock-label">Jupiter</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Mars'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/mars.png" alt="Mars"> 
                </div>
                <div class="dock-label">Mars</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Saturn'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/saturn.png" alt="Saturn"> 
                </div>
                <div class="dock-label">Saturn</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Iss'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/iss.png" alt="ISS"> 
                </div>
                <div class="dock-label">ISS</div>
            </div>
            <div class="dock-item" onmousedown="changePlanet('Sun'); event.stopPropagation();">
                <div class="dock-icon">
                    <img src="images/sun.png" alt="Sun"> 
                </div>
                <div class="dock-label">Sun</div>
            </div>
        </div>
    </div>
</body>
<script>
    const astronaut = document.querySelector('.astronaut-animation');
    const title = document.querySelector('h2');
    const heightDisplayM = document.getElementById('max-height-m');
    const jumpSound = new Audio('sounds/whee.mp3');
    
    let yPos = 0;
    let velocity = 0;
    let isJumping = false;
    let maxJumpY = 0;

    let gravity = -0.5; 
    let jumpPower = 5; 

    const planetSettings = {
        'Mercury': { gravity: -0.19, bg: 'images/mercury.gif' },
        'Venus':   { gravity: -0.455, bg: 'images/venus.gif' },
        'Earth':   { gravity: -0.5,  bg: 'images/earth.gif' },
        'Moon':    { gravity: -0.083, bg: 'images/moon.gif' },
        'Jupiter': { gravity: -1.26, bg: 'images/jupiter.gif' },
        'Mars':    { gravity: -0.19, bg: 'images/mars.gif' },
        'Saturn':  { gravity: -0.53, bg: 'images/saturn.gif' },
        'Iss':     { gravity: -0.01, bg: 'images/iss.gif' },
        'Sun':     { gravity: -14, bg: 'images/sun.gif' }
    };

    const realGravityValues = {
        'Mercury': '3.70',
        'Venus': '8.87',
        'Earth': '9.81',
        'Moon': '1.62',
        'Mars': '3.71',
        'Jupiter': '24.79',
        'Saturn': '10.44',
        'Iss': '0.01',
        'Sun': '274.0'
    };

    function changePlanet(name) {
        const settings = planetSettings[name];
        if (settings) {
            gravity = settings.gravity;
            document.body.style.backgroundImage = `url('${settings.bg}')`;
            title.innerText = `Jumping on ${name}`;

            maxJumpY = 0;
            heightDisplayM.innerText = "0.00";

            const gravityValDisplay = document.getElementById('current-gravity-val');
            if (gravityValDisplay) {
                gravityValDisplay.innerText = realGravityValues[name];
            }

            setTimeout(() => { startJump(); }, 100);
        }
    }

    function updatePhysics() {
        if (isJumping) {
            velocity += gravity;
            yPos += velocity;

            if (yPos > maxJumpY) {
                maxJumpY = yPos;
                heightDisplayM.innerText = (maxJumpY * 0.02225).toFixed(2);
            }

            if (velocity > 0) {
                astronaut.style.backgroundImage = "url('images/up.png')";
            } else if (velocity < 0) {
                astronaut.style.backgroundImage = "url('images/down.png')";
            }

            if (yPos <= 0) {
                yPos = 0;
                velocity = 0;
                if (isJumping) {
                    isJumping = false;
                    astronaut.style.backgroundImage = "url('images/stand.png')";
                    astronaut.style.transform = "translateX(-50%) scale(1.2, 0.8)";
                    setTimeout(() => {
                        astronaut.style.transform = "translateX(-50%) scale(1, 1)";
                    }, 70);
                }
            }
        }

        astronaut.style.bottom = (20 + yPos) + "%";
        requestAnimationFrame(updatePhysics);
    }

    function startJump() {
        if (isJumping) return;
        
        const jumpGravity = gravity; 
        const jumpDelay = Math.abs(jumpGravity * 1000); 

        console.log("Start prepare met gravity:", jumpGravity);

        astronaut.style.backgroundImage = "url('images/prepare.png')";
        astronaut.classList.add('shivering');
        
        setTimeout(() => {
            isJumping = true;
            velocity = jumpPower; 
            
            astronaut.classList.remove('shivering');

            let soundSpeed = Math.abs(jumpGravity / -0.5);
            jumpSound.playbackRate = Math.min(2.0, Math.max(0.3, soundSpeed));
            jumpSound.currentTime = 0;
            jumpSound.play();

            astronaut.style.transform = "translateX(-50%) scale(1, 1)";
        }, jumpDelay); 
    }

    updatePhysics();
    window.addEventListener('mousedown', startJump);
    changePlanet('Earth');
</script>
</html>